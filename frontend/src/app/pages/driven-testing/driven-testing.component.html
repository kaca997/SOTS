<ng-container *ngIf="error; else elseTemplate">
    <h2 style="text-align: center;">{{error}}</h2>
</ng-container>
<ng-template #elseTemplate>
    <h1 style="text-align: center;">{{test.title}}</h1>
    <div fxLayoutAlign="center stretch" fxLayout="column">
        <mat-card class="card">
            <mat-card-content>
                <div *ngIf = "!isFinalState" style="margin: 15px;">
                    <div style="margin-bottom: 10px;" fxLayout="row wrap">
                        <strong>{{counter}}. </strong>{{kstateProb.questionToAsk.text}}
                    </div>
                    <div fxLayout="row wrap">
                        <div *ngFor="let answer of kstateProb.questionToAsk.answers">
                            <div >
                                <mat-checkbox style="margin: 10px;" [(ngModel)]="answer.chosen" class="example-margin" >{{answer.text}}</mat-checkbox>
                            </div>
                        </div>
                    </div>
                </div>
                <div *ngIf = "isFinalState" style="margin: 15px;">
                    <h3 style="text-align: center;"><b>Final state : 
                        <span *ngFor="let problem of finalState.problems">
                            <span >
                            {{problem.name}} &nbsp;
                            </span>
                        </span>
                    </b>
                    </h3>
                    <div *ngIf="this.statesLoaded === true">
                        <app-state-graph [idd]="idd"  [nodes]="stateNodes" [links] = "stateLinks" [width] = 980 [height] = 300></app-state-graph>
                    </div>
                </div>
            </mat-card-content>
            <button *ngIf = "!isFinalState"  mat-flat-button class="btn btn-primary btn-block" style="border-radius: 20px;" (click)="next()">Next</button>
        </mat-card>
    </div>
    
    
</ng-template>

